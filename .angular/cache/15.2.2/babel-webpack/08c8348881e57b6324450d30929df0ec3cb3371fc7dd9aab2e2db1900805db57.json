{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"../../solution/solution3/highlight.pipe\";\nfunction DropdownComponent_div_2_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"span\", 5);\n    i0.ɵɵlistener(\"click\", function DropdownComponent_div_2_span_1_Template_span_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const data_r3 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r4.updateDropDown(data_r3));\n    });\n    i0.ɵɵpipe(1, \"highlight\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const data_r3 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"innerHTML\", i0.ɵɵpipeBind2(1, 1, data_r3.description, ctx_r2.dropdownControl.value), i0.ɵɵsanitizeHtml);\n  }\n}\nfunction DropdownComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3);\n    i0.ɵɵtemplate(1, DropdownComponent_div_2_span_1_Template, 2, 4, \"span\", 4);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const dropdownData_r1 = ctx.ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", dropdownData_r1);\n  }\n}\nexport class DropdownComponent {\n  constructor() {\n    this.placeholderText = '';\n    this.countryEmitter = new EventEmitter();\n    this.stateEmitter = new EventEmitter();\n    this.dropdownControl = new FormControl('');\n  }\n  ngOnInit() {\n    this.dropdownControl.valueChanges.subscribe(data => {\n      if (this.placeholderText === 'Country') {\n        this.countryEmitter.emit(data);\n      } else if (this.placeholderText === 'State') {\n        console.log('in state input');\n        this.stateEmitter.emit({\n          stateInput: data,\n          countryId: this.country ? this.country.id : ''\n        });\n      }\n    });\n  }\n  updateDropDown(country) {\n    console.log('value is ', country);\n    this.dropdownControl.setValue(country.description);\n    this.country = country;\n    // this.countryControl.setValue(country.description);\n    // this.stateControl.setValue('');\n    // this.currentCountry$.next(country);\n  }\n}\n\nDropdownComponent.ɵfac = function DropdownComponent_Factory(t) {\n  return new (t || DropdownComponent)();\n};\nDropdownComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: DropdownComponent,\n  selectors: [[\"app-dropdown\"]],\n  inputs: {\n    placeholderText: \"placeholderText\",\n    dropdownData$: \"dropdownData$\"\n  },\n  outputs: {\n    countryEmitter: \"countryEmitter\",\n    stateEmitter: \"stateEmitter\"\n  },\n  decls: 4,\n  vars: 5,\n  consts: [[1, \"dropdown\"], [\"type\", \"text\", 1, \"dropbtn\", 3, \"formControl\", \"placeholder\"], [\"class\", \"dropdown-content\", 4, \"ngIf\"], [1, \"dropdown-content\"], [3, \"innerHTML\", \"click\", 4, \"ngFor\", \"ngForOf\"], [3, \"innerHTML\", \"click\"]],\n  template: function DropdownComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelement(1, \"input\", 1);\n      i0.ɵɵtemplate(2, DropdownComponent_div_2_Template, 2, 1, \"div\", 2);\n      i0.ɵɵpipe(3, \"async\");\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"formControl\", ctx.dropdownControl)(\"placeholder\", \"Enter \" + ctx.placeholderText + \" name\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(3, 3, ctx.dropdownData$));\n    }\n  },\n  dependencies: [i1.NgForOf, i1.NgIf, i2.DefaultValueAccessor, i2.NgControlStatus, i2.FormControlDirective, i1.AsyncPipe, i3.HighlightPipe],\n  styles: [\".dropbtn[_ngcontent-%COMP%] {\\n  padding: 5px;\\n  font-size: 16px;\\n}\\n\\n.dropdown[_ngcontent-%COMP%] {\\n  position: relative;\\n  display: inline-block;\\n}\\n\\n.dropdown-content[_ngcontent-%COMP%] {\\n  display: none;\\n  position: absolute;\\n  min-width: 160px;\\n  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);\\n  z-index: 1;\\n}\\n\\n.dropdown-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\\n  color: black;\\n  padding: 12px 16px;\\n  text-decoration: none;\\n  display: block;\\n  background-color: white;\\n}\\n\\n.dropdown-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover {background-color: #f1f1f1}\\n\\n.dropdown[_ngcontent-%COMP%]:hover   .dropdown-content[_ngcontent-%COMP%], .dropbtn[_ngcontent-%COMP%]:focus    + .dropdown-content[_ngcontent-%COMP%]{\\n  display: block;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZXhlcmNpc2U1L2Ryb3Bkb3duL2Ryb3Bkb3duLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxZQUFZO0VBQ1osZUFBZTtBQUNqQjs7QUFFQTtFQUNFLGtCQUFrQjtFQUNsQixxQkFBcUI7QUFDdkI7O0FBRUE7RUFDRSxhQUFhO0VBQ2Isa0JBQWtCO0VBQ2xCLGdCQUFnQjtFQUNoQiw0Q0FBNEM7RUFDNUMsVUFBVTtBQUNaOztBQUVBO0VBQ0UsWUFBWTtFQUNaLGtCQUFrQjtFQUNsQixxQkFBcUI7RUFDckIsY0FBYztFQUNkLHVCQUF1QjtBQUN6Qjs7QUFFQSw4QkFBOEIseUJBQXlCOztBQUV2RDtFQUNFLGNBQWM7QUFDaEIiLCJzb3VyY2VzQ29udGVudCI6WyIuZHJvcGJ0biB7XG4gIHBhZGRpbmc6IDVweDtcbiAgZm9udC1zaXplOiAxNnB4O1xufVxuXG4uZHJvcGRvd24ge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbn1cblxuLmRyb3Bkb3duLWNvbnRlbnQge1xuICBkaXNwbGF5OiBub25lO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIG1pbi13aWR0aDogMTYwcHg7XG4gIGJveC1zaGFkb3c6IDBweCA4cHggMTZweCAwcHggcmdiYSgwLDAsMCwwLjIpO1xuICB6LWluZGV4OiAxO1xufVxuXG4uZHJvcGRvd24tY29udGVudCBzcGFuIHtcbiAgY29sb3I6IGJsYWNrO1xuICBwYWRkaW5nOiAxMnB4IDE2cHg7XG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbiAgZGlzcGxheTogYmxvY2s7XG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xufVxuXG4uZHJvcGRvd24tY29udGVudCBzcGFuOmhvdmVyIHtiYWNrZ3JvdW5kLWNvbG9yOiAjZjFmMWYxfVxuXG4uZHJvcGRvd246aG92ZXIgLmRyb3Bkb3duLWNvbnRlbnQsIC5kcm9wYnRuOmZvY3VzICsgLmRyb3Bkb3duLWNvbnRlbnR7XG4gIGRpc3BsYXk6IGJsb2NrO1xufVxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"AAAA,SAAoBA,YAAY,QAA+B,eAAe;AAC9E,SAASC,WAAW,QAAQ,gBAAgB;;;;;;;;ICGtCC,+BACwE;IADhCA;MAAA;MAAA;MAAA;MAAA,OAASA,6CAAoB;IAAA,EAAC;;IAEtEA,iBAAO;;;;;IADDA,sHAAiE;;;;;IAFzEA,8BAA4E;IAC1EA,0EAEO;IACTA,iBAAM;;;;IAHmBA,eAAe;IAAfA,yCAAe;;;ADO5C,OAAM,MAAOC,iBAAiB;EAY5BC;IAV0B,oBAAe,GAAW,EAAE;IAE5B,mBAAc,GAAG,IAAIJ,YAAY,EAAU;IAC7C,iBAAY,GAAG,IAAIA,YAAY,EAAU;IAKjE,oBAAe,GAAG,IAAIC,WAAW,CAAS,EAAE,CAAC;EAG7C;EAEAI,QAAQ;IACN,IAAI,CAACC,eAAe,CAACC,YAAY,CAACC,SAAS,CAACC,IAAI,IAAG;MACjD,IAAG,IAAI,CAACC,eAAe,KAAK,SAAS,EAAC;QACpC,IAAI,CAACC,cAAc,CAACC,IAAI,CAACH,IAAI,CAAC;OAC/B,MACI,IAAG,IAAI,CAACC,eAAe,KAAK,OAAO,EAAC;QACvCG,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAC;QAC7B,IAAI,CAACC,YAAY,CAACH,IAAI,CAAC;UAACI,UAAU,EAAEP,IAAI;UAAEQ,SAAS,EAAE,IAAI,CAACC,OAAO,GAAG,IAAI,CAACA,OAAO,CAACC,EAAE,GAAG;QAAE,CAAC,CAAC;;IAE9F,CAAC,CAAC;EACJ;EAEAC,cAAc,CAACF,OAAgB;IAC7BL,OAAO,CAACC,GAAG,CAAC,WAAW,EAAEI,OAAO,CAAC;IACjC,IAAI,CAACZ,eAAe,CAACe,QAAQ,CAACH,OAAO,CAACI,WAAW,CAAC;IAClD,IAAI,CAACJ,OAAO,GAAGA,OAAO;IACtB;IACA;IACA;EACF;;;AAlCWf,iBAAiB;mBAAjBA,iBAAiB;AAAA;AAAjBA,iBAAiB;QAAjBA,iBAAiB;EAAAoB;EAAAC;IAAAd;IAAAe;EAAA;EAAAC;IAAAf;IAAAI;EAAA;EAAAY;EAAAC;EAAAC;EAAAC;IAAA;MCX9B5B,8BAAsB;MAClBA,2BAC6D;MAC7DA,kEAIM;;MACVA,iBAAM;;;MAPiCA,eAA+B;MAA/BA,iDAA+B;MAEnCA,eAA4B;MAA5BA,8DAA4B","names":["EventEmitter","FormControl","i0","DropdownComponent","constructor","ngOnInit","dropdownControl","valueChanges","subscribe","data","placeholderText","countryEmitter","emit","console","log","stateEmitter","stateInput","countryId","country","id","updateDropDown","setValue","description","selectors","inputs","dropdownData$","outputs","decls","vars","consts","template"],"sourceRoot":"","sources":["/workspaces/ng-advanced-workshop/src/app/exercise5/dropdown/dropdown.component.ts","/workspaces/ng-advanced-workshop/src/app/exercise5/dropdown/dropdown.component.html"],"sourcesContent":["import { Component, EventEmitter, Input, Output, OnInit } from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport { Observable} from 'rxjs';\nimport { Country } from '../types';\n\n\n@Component({\n  selector: 'app-dropdown',\n  templateUrl: './dropdown.component.html',\n  styleUrls: ['./dropdown.component.css']\n})\nexport class DropdownComponent implements OnInit {\n\n  @Input('placeholderText') placeholderText: string = '';\n  @Input('dropdownData$') dropdownData$ : Observable<any>;\n  @Output('countryEmitter') countryEmitter = new EventEmitter<string>();\n  @Output('stateEmitter') stateEmitter = new EventEmitter<Object>();\n\n  country:Country;\n\n\n  dropdownControl = new FormControl<string>('');\n\n  constructor() {\n  }\n  \n  ngOnInit(): void {\n    this.dropdownControl.valueChanges.subscribe(data =>{\n      if(this.placeholderText === 'Country'){\n        this.countryEmitter.emit(data);\n      }\n      else if(this.placeholderText === 'State'){\n        console.log('in state input');\n        this.stateEmitter.emit({stateInput: data, countryId: this.country ? this.country.id : ''});\n      }\n    });\n  }\n\n  updateDropDown(country: Country) {\n    console.log('value is ', country);\n    this.dropdownControl.setValue(country.description);\n    this.country = country;\n    // this.countryControl.setValue(country.description);\n    // this.stateControl.setValue('');\n    // this.currentCountry$.next(country);\n  }\n\n}\n","<div class=\"dropdown\">\n    <input type=\"text\" class=\"dropbtn\" [formControl]=\"dropdownControl\"\n           [placeholder]=\"'Enter ' + placeholderText + ' name'\" >\n    <div class=\"dropdown-content\" *ngIf=\"dropdownData$ | async as dropdownData\">\n      <span *ngFor=\"let data of dropdownData\" (click)=\"updateDropDown(data)\"\n            [innerHTML]=\"data.description | highlight: dropdownControl.value\">\n      </span>\n    </div>\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}