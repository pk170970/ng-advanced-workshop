{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, Input, Output } from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport { combineLatest } from 'rxjs';\nlet DropdownComponent = class DropdownComponent {\n  constructor(service) {\n    this.service = service;\n    this.placeholderText = '';\n    this.dropdownControl = new FormControl('');\n    if (this.placeholderText === \"Country\") {\n      this.dropdownData$ = combineLatest([this.dropdownControl.valueChanges, this.service.getCountries()]).pipe(map(([userInput, countries]) => countries.filter(c => c.description.toLowerCase().indexOf(userInput.toLowerCase()) !== -1)));\n    }\n    this.dropdownControl.valueChanges.subscribe(data => {\n      console.log('data', data);\n      if (this.placeholderText === 'Country') {\n        this.countryControl.emit();\n      }\n    });\n  }\n  updateStates(country) {\n    // this.countryControl.setValue(country.description);\n    // this.stateControl.setValue('');\n    // this.currentCountry$.next(country);\n  }\n};\n__decorate([Input('placeholder')], DropdownComponent.prototype, \"placeholderText\", void 0);\n__decorate([Input('dropdownData$')], DropdownComponent.prototype, \"dropdownData$\", void 0);\n__decorate([Output('countryControl')], DropdownComponent.prototype, \"countryControl\", void 0);\nDropdownComponent = __decorate([Component({\n  selector: 'app-dropdown',\n  templateUrl: './dropdown.component.html',\n  styleUrls: ['./dropdown.component.css']\n})], DropdownComponent);\nexport { DropdownComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,EAAgBC,KAAK,EAAEC,MAAM,QAAQ,eAAe;AACtE,SAASC,WAAW,QAAQ,gBAAgB;AAC5C,SAASC,aAAa,QAAoB,MAAM;AAQzC,IAAMC,iBAAiB,GAAvB,MAAMA,iBAAiB;EAQ5BC,YAAoBC,OAAQ;IAAR,YAAO,GAAPA,OAAO;IANL,oBAAe,GAAU,EAAE;IAIjD,oBAAe,GAAG,IAAIJ,WAAW,CAAS,EAAE,CAAC;IAG3C,IAAG,IAAI,CAACK,eAAe,KAAK,SAAS,EAAC;MACpC,IAAI,CAACC,aAAa,GAAGL,aAAa,CAAC,CAAC,IAAI,CAACM,eAAe,CAACC,YAAY,EAAE,IAAI,CAACJ,OAAO,CAACK,YAAY,EAAE,CAAC,CAAC,CAACC,IAAI,CACnGC,GAAG,CAAC,CAAC,CAACC,SAAS,EAAEC,SAAS,CAAC,KAAKA,SAAS,CAACC,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACC,WAAW,CAACC,WAAW,EAAE,CAACC,OAAO,CAACN,SAAS,CAACK,WAAW,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAChI;;IAIH,IAAI,CAACV,eAAe,CAACC,YAAY,CAACW,SAAS,CAACC,IAAI,IAAG;MACjDC,OAAO,CAACC,GAAG,CAAC,MAAM,EAAEF,IAAI,CAAC;MACzB,IAAG,IAAI,CAACf,eAAe,KAAK,SAAS,EAAC;QACpC,IAAI,CAACkB,cAAc,CAACC,IAAI,EAAE;;IAE9B,CAAC,CAAC;EACJ;EAEEC,YAAY,CAACC,OAAgB;IAC7B;IACA;IACA;EAAA;CAGH;AA5BuBC,YAArB7B,KAAK,CAAC,aAAa,CAAC,0DAA6B;AAC1B6B,YAAvB7B,KAAK,CAAC,eAAe,CAAC,wDAAgC;AAC7B6B,YAAzB5B,MAAM,CAAC,gBAAgB,CAAC,yDAAqC;AAJnDG,iBAAiB,eAL7BL,SAAS,CAAC;EACT+B,QAAQ,EAAE,cAAc;EACxBC,WAAW,EAAE,2BAA2B;EACxCC,SAAS,EAAE,CAAC,0BAA0B;CACvC,CAAC,GACW5B,iBAAiB,CA8B7B;SA9BYA,iBAAiB","names":["Component","Input","Output","FormControl","combineLatest","DropdownComponent","constructor","service","placeholderText","dropdownData$","dropdownControl","valueChanges","getCountries","pipe","map","userInput","countries","filter","c","description","toLowerCase","indexOf","subscribe","data","console","log","countryControl","emit","updateStates","country","__decorate","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["/workspaces/ng-advanced-workshop/src/app/exercise5/dropdown/dropdown.component.ts"],"sourcesContent":["import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport { combineLatest, Observable } from 'rxjs';\nimport { Country, State } from '../types';\n\n@Component({\n  selector: 'app-dropdown',\n  templateUrl: './dropdown.component.html',\n  styleUrls: ['./dropdown.component.css']\n})\nexport class DropdownComponent {\n\n  @Input('placeholder') placeholderText:string = '';\n  @Input('dropdownData$') dropdownData$: Observable<any>;\n  @Output('countryControl') countryControl:EventEmitter<string>;\n\n  dropdownControl = new FormControl<string>('');\n\n  constructor(private service:){\n    if(this.placeholderText === \"Country\"){\n      this.dropdownData$ = combineLatest([this.dropdownControl.valueChanges, this.service.getCountries()]).pipe(\n            map(([userInput, countries]) => countries.filter(c => c.description.toLowerCase().indexOf(userInput.toLowerCase()) !== -1))\n      );\n    }\n\n\n    this.dropdownControl.valueChanges.subscribe(data =>{\n      console.log('data', data);\n      if(this.placeholderText === 'Country'){\n        this.countryControl.emit()\n      }\n    });\n  }\n\n    updateStates(country: Country) {\n    // this.countryControl.setValue(country.description);\n    // this.stateControl.setValue('');\n    // this.currentCountry$.next(country);\n  }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}