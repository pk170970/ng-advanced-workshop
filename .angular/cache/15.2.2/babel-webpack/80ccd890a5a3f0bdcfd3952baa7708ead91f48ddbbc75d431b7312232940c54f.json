{"ast":null,"code":"import { switchMap } from 'rxjs';\nimport { FormControl } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./country.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction Solution2Component_div_4_option_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 3);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const country_r4 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", country_r4.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", country_r4.description, \" \");\n  }\n}\nfunction Solution2Component_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"select\", 1);\n    i0.ɵɵtemplate(4, Solution2Component_div_4_option_4_Template, 2, 2, \"option\", 2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const countries_r2 = ctx.ngIf;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Select one of \", countries_r2.length, \" countries:\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"formControl\", ctx_r0.countryDropdown);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", countries_r2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Current value: \", ctx_r0.countryDropdown.value, \"\");\n  }\n}\nfunction Solution2Component_div_6_ng_container_1_option_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 3);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"titlecase\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const state_r8 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", state_r8.code);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 2, state_r8.description), \" \");\n  }\n}\nfunction Solution2Component_div_6_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"select\", 4)(4, \"option\", 5);\n    i0.ɵɵtext(5, \"Select...\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, Solution2Component_div_6_ng_container_1_option_6_Template, 3, 4, \"option\", 2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const states_r5 = i0.ɵɵnextContext().ngIf;\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Select one of \", states_r5.length, \" states/provinces:\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"formControl\", ctx_r6.statesDropdown)(\"disabled\", states_r5.length == 0);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", states_r5);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Current value: \", ctx_r6.statesDropdown == null ? null : ctx_r6.statesDropdown.value, \"\");\n  }\n}\nfunction Solution2Component_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, Solution2Component_div_6_ng_container_1_Template, 9, 5, \"ng-container\", 0);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const states_r5 = ctx.ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", states_r5.length > 0);\n  }\n}\nexport let Solution2Component = /*#__PURE__*/(() => {\n  class Solution2Component {\n    constructor(service) {\n      this.service = service;\n      this.countries$ = this.service.getCountries();\n      this.countryDropdown = new FormControl(null);\n      this.statesDropdown = new FormControl(null);\n      this.states$ = this.countryDropdown.valueChanges.pipe(switchMap(countryId => service.getStatesFor(countryId)));\n    }\n  }\n  Solution2Component.ɵfac = function Solution2Component_Factory(t) {\n    return new (t || Solution2Component)(i0.ɵɵdirectiveInject(i1.CountryService));\n  };\n  Solution2Component.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: Solution2Component,\n    selectors: [[\"app-solution2\"]],\n    decls: 8,\n    vars: 6,\n    consts: [[4, \"ngIf\"], [3, \"formControl\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [3, \"value\"], [3, \"formControl\", \"disabled\"], [\"value\", \"\"]],\n    template: function Solution2Component_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"h2\");\n        i0.ɵɵtext(1, \"Solution 2\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(2, \"h2\");\n        i0.ɵɵtext(3, \"Result\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(4, Solution2Component_div_4_Template, 7, 4, \"div\", 0);\n        i0.ɵɵpipe(5, \"async\");\n        i0.ɵɵtemplate(6, Solution2Component_div_6_Template, 2, 1, \"div\", 0);\n        i0.ɵɵpipe(7, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(5, 2, ctx.countries$));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(7, 4, ctx.states$));\n      }\n    },\n    dependencies: [i2.NgForOf, i2.NgIf, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i3.SelectControlValueAccessor, i3.NgControlStatus, i3.FormControlDirective, i2.AsyncPipe, i2.TitleCasePipe]\n  });\n  return Solution2Component;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}